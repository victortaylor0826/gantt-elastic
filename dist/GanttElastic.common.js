module.exports=function(t){var e={};function s(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,s),a.l=!0,a.exports}return s.m=t,s.c=e,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(r,a,function(e){return t[e]}.bind(null,a));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=6)}([function(t,e,s){t.exports=function(){"use strict";var t="millisecond",e="second",s="minute",r="hour",a="day",i="week",o="month",n="year",l=/^(\d{4})-?(\d{1,2})-?(\d{0,2})(.*?(\d{1,2}):(\d{1,2}):(\d{1,2}))?.?(\d{1,3})?$/,h=/\[.*?\]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,c={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},d=function(t,e,s){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(s)+t},u={padStart:d,padZoneStr:function(t){var e=Math.abs(t),s=Math.floor(e/60),r=e%60;return(t<=0?"+":"-")+d(s,2,"0")+":"+d(r,2,"0")},monthDiff:function(t,e){var s=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(s,"months"),a=e-r<0,i=t.clone().add(s+(a?-1:1),"months");return Number(-(s+(e-r)/(a?r-i:i-r)))},absFloor:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},prettyUnit:function(l){return{M:o,y:n,w:i,d:a,h:r,m:s,s:e,ms:t}[l]||String(l||"").toLowerCase().replace(/s$/,"")},isUndefined:function(t){return void 0===t}},p="en",m={};m[p]=c;var g=function(t){return t instanceof k},f=function(t,e,s){var r;if(!t)return null;if("string"==typeof t)m[t]&&(r=t),e&&(m[t]=e,r=t);else{var a=t.name;m[a]=t,r=a}return s||(p=r),r},w=function(t,e){if(g(t))return t.clone();var s=e||{};return s.date=t,new k(s)},y=function(t,e){return w(t,{locale:e.$L})},v=u;v.parseLocale=f,v.isDayjs=g,v.wrapper=y;var k=function(){function c(t){this.parse(t)}var d=c.prototype;return d.parse=function(t){var e,s;this.$d=null===(e=t.date)?new Date(NaN):v.isUndefined(e)?new Date:e instanceof Date?e:"string"==typeof e&&/.*[^Z]$/i.test(e)&&(s=e.match(l))?new Date(s[1],s[2]-1,s[3]||1,s[5]||0,s[6]||0,s[7]||0,s[8]||0):new Date(e),this.init(t)},d.init=function(t){this.$y=this.$d.getFullYear(),this.$M=this.$d.getMonth(),this.$D=this.$d.getDate(),this.$W=this.$d.getDay(),this.$H=this.$d.getHours(),this.$m=this.$d.getMinutes(),this.$s=this.$d.getSeconds(),this.$ms=this.$d.getMilliseconds(),this.$L=this.$L||f(t.locale,null,!0)||p},d.$utils=function(){return v},d.isValid=function(){return!("Invalid Date"===this.$d.toString())},d.$compare=function(t){return this.valueOf()-w(t).valueOf()},d.isSame=function(t){return 0===this.$compare(t)},d.isBefore=function(t){return this.$compare(t)<0},d.isAfter=function(t){return this.$compare(t)>0},d.year=function(){return this.$y},d.month=function(){return this.$M},d.day=function(){return this.$W},d.date=function(){return this.$D},d.hour=function(){return this.$H},d.minute=function(){return this.$m},d.second=function(){return this.$s},d.millisecond=function(){return this.$ms},d.unix=function(){return Math.floor(this.valueOf()/1e3)},d.valueOf=function(){return this.$d.getTime()},d.startOf=function(t,l){var h=this,c=!!v.isUndefined(l)||l,d=function(t,e){var s=y(new Date(h.$y,e,t),h);return c?s:s.endOf(a)},u=function(t,e){return y(h.toDate()[t].apply(h.toDate(),c?[0,0,0,0].slice(e):[23,59,59,999].slice(e)),h)};switch(v.prettyUnit(t)){case n:return c?d(1,0):d(31,11);case o:return c?d(1,this.$M):d(0,this.$M+1);case i:return d(c?this.$D-this.$W:this.$D+(6-this.$W),this.$M);case a:case"date":return u("setHours",0);case r:return u("setMinutes",1);case s:return u("setSeconds",2);case e:return u("setMilliseconds",3);default:return this.clone()}},d.endOf=function(t){return this.startOf(t,!1)},d.$set=function(i,l){switch(v.prettyUnit(i)){case a:this.$d.setDate(this.$D+(l-this.$W));break;case"date":this.$d.setDate(l);break;case o:this.$d.setMonth(l);break;case n:this.$d.setFullYear(l);break;case r:this.$d.setHours(l);break;case s:this.$d.setMinutes(l);break;case e:this.$d.setSeconds(l);break;case t:this.$d.setMilliseconds(l)}return this.init(),this},d.set=function(t,e){return this.clone().$set(t,e)},d.add=function(t,l){var h=this;t=Number(t);var c,d=v.prettyUnit(l),u=function(e,s){var r=h.set("date",1).set(e,s+t);return r.set("date",Math.min(h.$D,r.daysInMonth()))},p=function(e){var s=new Date(h.$d);return s.setDate(s.getDate()+e*t),y(s,h)};if(d===o)return u(o,this.$M);if(d===n)return u(n,this.$y);if(d===a)return p(1);if(d===i)return p(7);switch(d){case s:c=6e4;break;case r:c=36e5;break;case e:c=1e3;break;default:c=1}var m=this.valueOf()+t*c;return y(m,this)},d.subtract=function(t,e){return this.add(-1*t,e)},d.format=function(t){var e=this,s=t||"YYYY-MM-DDTHH:mm:ssZ",r=v.padZoneStr(this.$d.getTimezoneOffset()),a=this.$locale(),i=a.weekdays,o=a.months,n=function(t,e,s,r){return t&&t[e]||s[e].substr(0,r)};return s.replace(h,function(t){if(t.indexOf("[")>-1)return t.replace(/\[|\]/g,"");switch(t){case"YY":return String(e.$y).slice(-2);case"YYYY":return String(e.$y);case"M":return String(e.$M+1);case"MM":return v.padStart(e.$M+1,2,"0");case"MMM":return n(a.monthsShort,e.$M,o,3);case"MMMM":return o[e.$M];case"D":return String(e.$D);case"DD":return v.padStart(e.$D,2,"0");case"d":return String(e.$W);case"dd":return n(a.weekdaysMin,e.$W,i,2);case"ddd":return n(a.weekdaysShort,e.$W,i,3);case"dddd":return i[e.$W];case"H":return String(e.$H);case"HH":return v.padStart(e.$H,2,"0");case"h":case"hh":return 0===e.$H?12:v.padStart(e.$H<13?e.$H:e.$H-12,"hh"===t?2:1,"0");case"a":return e.$H<12?"am":"pm";case"A":return e.$H<12?"AM":"PM";case"m":return String(e.$m);case"mm":return v.padStart(e.$m,2,"0");case"s":return String(e.$s);case"ss":return v.padStart(e.$s,2,"0");case"SSS":return v.padStart(e.$ms,3,"0");case"Z":return r;default:return r.replace(":","")}})},d.diff=function(t,l,h){var c=v.prettyUnit(l),d=w(t),u=this-d,p=v.monthDiff(this,d);switch(c){case n:p/=12;break;case o:break;case"quarter":p/=3;break;case i:p=u/6048e5;break;case a:p=u/864e5;break;case r:p=u/36e5;break;case s:p=u/6e4;break;case e:p=u/1e3;break;default:p=u}return h?p:v.absFloor(p)},d.daysInMonth=function(){return this.endOf(o).$D},d.$locale=function(){return m[this.$L]},d.locale=function(t,e){var s=this.clone();return s.$L=f(t,e,!0),s},d.clone=function(){return y(this.toDate(),this)},d.toDate=function(){return new Date(this.$d)},d.toArray=function(){return[this.$y,this.$M,this.$D,this.$H,this.$m,this.$s,this.$ms]},d.toJSON=function(){return this.toISOString()},d.toISOString=function(){return this.toDate().toISOString()},d.toObject=function(){return{years:this.$y,months:this.$M,date:this.$D,hours:this.$H,minutes:this.$m,seconds:this.$s,milliseconds:this.$ms}},d.toString=function(){return this.$d.toUTCString()},c}();return w.extend=function(t,e){return t(e,k,w),w},w.locale=f,w.isDayjs=g,w.unix=function(t){return w(1e3*t)},w.en=m[p],w}()},function(t,e,s){var r=s(4);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,s(7).default)("c3e5085c",r,!1,{})},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var s=function(t,e){var s=t[1]||"",r=t[3];if(!r)return s;if(e&&"function"==typeof btoa){var a=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(r),i=r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"});return[s].concat(i).concat([a]).join("\n")}return[s].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+s+"}":s}).join("")},e.i=function(t,s){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},a=0;a<this.length;a++){var i=this[a][0];"number"==typeof i&&(r[i]=!0)}for(a=0;a<t.length;a++){var o=t[a];"number"==typeof o[0]&&r[o[0]]||(s&&!o[2]?o[2]=s:s&&(o[2]="("+o[2]+") and ("+s+")"),e.push(o))}},e}},function(t,e,s){"use strict";var r=s(1);s.n(r).a},function(t,e,s){(e=t.exports=s(2)(!1)).i(s(5),""),e.push([t.i,"\r\n",""])},function(t,e,s){(t.exports=s(2)(!1)).push([t.i,".gantt-elastic__main-view svg{\n  display: block;\n}\n.gantt-elastic__svg-container{\n  position: relative;\n}\n.gantt-elastic__main-view,.gantt-elastic__svg-container{\n  background: #fff;\n}\n.gantt-elastic__container,.gantt-elastic__svg-container{\n  max-width: 100%;\n}\n.gantt-elastic__grid-horizontal-line, .gantt-elastic__grid-vertical-line{\n  stroke: #a0a0a0;\n  stroke-width: 1;\n}\nforeignObject > *{\n  margin: 0px;\n}\n.gantt-elastic .p-2{\n  padding: 10rem;\n}\n.gantt-elastic__container{\n  display: flex;\n  max-width: 100%;\n  position: absolute;\n  height: 100%;\n}\n.gantt-elastic__main-view-svg-container , .gantt-elastic__main-view-container{\n  overflow: hidden;\n  max-width:100%;\n}\n.gantt-elastic__task-list-header-column:last-of-type{\n  border-right: 1px solid #00000050;\n}\n.gantt-elastic__task-list-item:last-of-type{\n  border-bottom:1px solid #00000050;\n}\n",""])},function(t,e,s){"use strict";s.r(e);var r=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"gantt-elastic"},[this._t("header"),this._v(" "),e("main-view",{attrs:{tasks:this.tasks,options:this.options}}),this._v(" "),this._t("footer")],2)};r._withStripped=!0;var a=s(0),i=s.n(a),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"gantt-elastic__main-view"},[s("div",{staticClass:"gantt-elastic__svg-container-wrapper",style:t.root.style("svg-container-wrapper",{height:t.root.state.height+"px"})},[s("svg",{ref:"svgMainView",staticClass:"gantt-elastic__svg-container",style:t.root.style("svg-container",{"max-width":"calc(100% - "+t.root.state.scrollBarHeight+"px)"}),attrs:{width:t.getWidth,height:t.root.state.height,xmlns:"http://www.w3.org/2000/svg"}},[s("foreignObject",{attrs:{x:"0",y:"0",width:"100%",height:"100%"}},[s("div",{staticClass:"gantt-elastic__container",attrs:{xmlns:"http://www.w3.org/1999/xhtml"},on:{mousemove:t.mouseMove,mouseup:t.mouseUp}},[s("div",{staticClass:"gantt-elastic__task-list-container"},[s("svg",{directives:[{name:"show",rawName:"v-show",value:t.root.state.taskList.display,expression:"root.state.taskList.display"}],ref:"svgTaskList",staticClass:"gantt-elastic__task-list-svg",attrs:{xmlns:"http://www.w3.org/2000/svg",width:t.root.state.taskList.finalWidth,height:t.root.state.height}},[s("defs",{domProps:{innerHTML:t._s(t.defs)}}),t._v(" "),s("task-list")],1)]),t._v(" "),s("div",{ref:"svgChartContainer",staticClass:"gantt-elastic__main-view-container",on:{mousedown:function(e){return e.stopPropagation(),t.chartMouseDown(e)},touchstart:function(e){return e.stopPropagation(),e.preventDefault(),t.chartMouseDown(e)},mouseup:function(e){return e.stopPropagation(),e.preventDefault(),t.chartMouseUp(e)},touchend:function(e){return e.stopPropagation(),e.preventDefault(),t.chartMouseUp(e)},mousemove:function(e){return e.stopPropagation(),e.preventDefault(),t.chartMouseMove(e)},touchmove:function(e){return e.stopPropagation(),e.preventDefault(),t.chartMouseMove(e)},wheel:function(e){return e.preventDefault(),t.chartWheel(e)}}},[s("chart")],1)])])],1),t._v(" "),s("div",{ref:"chartScrollContainerVertical",staticClass:"gantt-elastic__chart-scroll-container gantt-elastic__chart-scroll-container--vertical",style:t.root.style("chart-scroll-container","chart-scroll-container--vertical",t.verticalStyle),on:{scroll:t.onVerticalScroll}},[s("div",{staticClass:"gantt-elastic__chart-scroll--vertical",style:{width:"1px",height:t.root.state.allVisibleTasksHeight+"px"}})])]),t._v(" "),s("div",{ref:"chartScrollContainerHorizontal",staticClass:"gantt-elastic__chart-scroll-container gantt-elastic__chart-scroll-container--horizontal",style:t.root.style("chart-scroll-container","chart-scroll-container--horizontal",{marginLeft:t.getMarginLeft}),on:{scroll:t.onHorizontalScroll}},[s("div",{staticClass:"gantt-elastic__chart-scroll--horizontal",style:{height:"1px",width:t.root.state.width+"px"}})])])};o._withStripped=!0;var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("foreignObject",{directives:[{name:"show",rawName:"v-show",value:t.root.state.taskList.display,expression:"root.state.taskList.display"}],ref:"taskListWrapper",staticClass:"gantt-elastic__task-list-wrapper",style:t.root.style("task-list-wrapper"),attrs:{x:"0",y:"0",width:"100%",height:"100%"}},[s("div",{ref:"taskList",staticClass:"gantt-elastic__task-list",style:t.root.style("task-list"),attrs:{xmlns:"http://www.w3.org/1999/xhtml"}},[s("task-list-header"),t._v(" "),s("div",{ref:"taskListItems",staticClass:"gantt-elastic__task-list-items",style:t.root.style("task-list-items",{height:t.root.state.rowsHeight+"px"})},t._l(t.root.state.tasks,function(e){return s("task-list-item",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"task.visible"}],key:e.id,attrs:{task:e,"expander-style":t.getListExpanderStyle(e)}})}))],1)])};n._withStripped=!0;var l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"gantt-elastic__task-list-header",style:t.root.style("task-list-header")},t._l(t.root.state.taskList.columns,function(e){return s("div",{key:e._id,staticClass:"gantt-elastic__task-list-header-column",style:t.root.style("task-list-header-column",e.style["task-list-header-column"],t.getStyle(e))},[e.expander?s("task-list-expander",{attrs:{tasks:t.collapsible}}):t._e(),t._v(" "),s("div",{staticClass:"gantt-elastic__task-list-header-label",style:t.root.style("task-list-header-label",e.style["task-list-header-label"]),attrs:{column:e},on:{mouseup:function(s){t.resizerMouseUp(s,e)}}},[t._v(t._s(e.label))]),t._v(" "),s("div",{staticClass:"gantt-elastic__task-list-header-resizer-wrapper",style:t.root.style("task-list-header-resizer-wrapper",e.style["task-list-header-resizer-wrapper"]),attrs:{column:e},on:{mousedown:function(s){t.resizerMouseDown(s,e)}}},[s("div",{staticClass:"gantt-elastic__task-list-header-resizer",style:t.root.style("task-list-header-resizer",e.style["task-list-header-resizer"])},[s("div",{staticClass:"gantt-elastic__task-list-header-resizer-dot",style:t.root.style("task-list-header-resizer-dot",e.style["task-list-header-resizer-dot"])}),t._v(" "),s("div",{staticClass:"gantt-elastic__task-list-header-resizer-dot",style:t.root.style("task-list-header-resizer-dot",e.style["task-list-header-resizer-dot"])}),t._v(" "),s("div",{staticClass:"gantt-elastic__task-list-header-resizer-dot",style:t.root.style("task-list-header-resizer-dot",e.style["task-list-header-resizer-dot"])})])])],1)}))};l._withStripped=!0;var h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"gantt-elastic__task-list-column-expander-wrapper",style:t.root.style("task-list-column-expander-wrapper")},[s("svg",{staticClass:"gantt-elastic__task-list-column-expander-content",style:t.root.style("task-list-column-expander-content"),attrs:{width:t.root.state.taskList.expander.size,height:t.root.state.taskList.expander.size}},[t.allChildren.length?s("rect",{staticClass:"gantt-elastic__task-list-column-expander-border",style:t.root.style("task-list-column-expander-border",t.borderStyle),attrs:{x:t.border,y:t.border,width:t.root.state.taskList.expander.size-2*t.border,height:t.root.state.taskList.expander.size-2*t.border,rx:"2",ry:"2"},on:{click:t.toggle}}):t._e(),t._v(" "),t.allChildren.length?s("line",{staticClass:"gantt-elastic__task-list-column-expander-line",style:t.root.style("task-list-column-expander-line"),attrs:{x1:t.lineOffset,y1:t.root.state.taskList.expander.size/2,x2:t.root.state.taskList.expander.size-t.lineOffset,y2:t.root.state.taskList.expander.size/2},on:{click:t.toggle}}):t._e(),t._v(" "),t.collapsed?s("line",{staticClass:"gantt-elastic__task-list-column-expander-line",style:t.root.style("task-list-column-expander-line"),attrs:{x1:t.root.state.taskList.expander.size/2,y1:t.lineOffset,x2:t.root.state.taskList.expander.size/2,y2:t.root.state.taskList.expander.size-t.lineOffset},on:{click:t.toggle}}):t._e()])])};function c(t,e,s,r,a,i,o,n){var l,h="function"==typeof t?t.options:t;if(e&&(h.render=e,h.staticRenderFns=s,h._compiled=!0),r&&(h.functional=!0),i&&(h._scopeId="data-v-"+i),o?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},h._ssrRegister=l):a&&(l=n?function(){a.call(this,this.$root.$options.shadowRoot)}:a),l)if(h.functional){h._injectStyles=l;var c=h.render;h.render=function(t,e){return l.call(e),c(t,e)}}else{var d=h.beforeCreate;h.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:h}}h._withStripped=!0;var d=c({inject:["root"],props:["tasks"],data:()=>({border:.5,borderStyle:{"stroke-width":.5},lineOffset:5}),computed:{allChildren(){const t=[];return this.tasks.forEach(e=>{e.allChildren.forEach(e=>{t.push(e)})}),t},collapsed(){if(0===this.tasks.length)return!1;let t=0;for(let e=0,s=this.tasks.length;e<s;e++)this.tasks[e].collapsed&&t++;return t===this.tasks.length}},methods:{toggle(){if(0===this.allChildren.length)return;const t=!this.collapsed;this.tasks.forEach(e=>{e.collapsed=t,e.allChildren.forEach(e=>{e.visible=!t&&!e.parent.collapsed})})}}},h,[],!1,null,null,null);d.options.__file="src/components/TaskList/Expander.vue";var u=d.exports,p=c({components:{TaskListExpander:u},inject:["root"],data:()=>({resizer:{moving:!1,x:0}}),computed:{getStyle(){return t=>{const e=this.root.state;return{height:e.calendar.height+this.root.style("calendar-row")["stroke-width"]+"px","margin-bottom":e.calendar.gap+"px",width:t.finalWidth+"px"}}},collapsible(){return this.root.state.tasks.filter(t=>t.allChildren.length>0)}},methods:{resizerMouseDown(t,e){this.resizerMoving||(this.resizer.moving=e,this.resizer.x=t.clientX,this.resizer.initialWidth=e.width,this.root.$emit("taskList-column-width-change-start",this.resizer.moving.width))},resizerMouseMove(t){this.resizer.moving&&(this.resizer.moving.width=this.resizer.initialWidth+t.clientX-this.resizer.x,this.root.$emit("taskList-column-width-change",this.resizer.moving.width))},resizerMouseUp(t){this.resizer.moving&&(this.root.$emit("taskList-column-width-change",this.resizer.moving.width),this.root.$emit("taskList-column-width-change-stop",this.resizer.moving.width),this.resizer.moving=!1)}},created(){this.root.$on("main-view-mousemove",this.resizerMouseMove),this.root.$on("main-view-mouseup",this.resizerMouseUp)}},l,[],!1,null,null,null);p.options.__file="src/components/TaskList/TaskListHeader.vue";var m=p.exports,g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"gantt-elastic__task-list-item",style:t.root.style("task-list-item")},t._l(t.root.state.taskList.columns,function(e){return s("item-column",{key:e._id,attrs:{column:e,task:t.task}},[e.expander?s("task-list-expander",{style:t.expanderStyle,attrs:{tasks:[t.task]}}):t._e()],1)}))};g._withStripped=!0;var f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"gantt-elastic__task-list-item-column",style:t.root.style("task-list-item-column",t.column.style["task-list-item-column"],{width:t.column.finalWidth+"px",height:t.column.height+"px"})},[s("div",{staticClass:"gantt-elastic__task-list-item-value-wrapper",style:t.root.style("task-list-item-value-wrapper",t.column.style["task-list-item-value-wrapper"])},[t._t("default"),t._v(" "),t.html?t._e():s("div",{staticClass:"gantt-elastic__task-list-item-value",style:t.root.style("task-list-item-value",t.column.style["task-list-item-value"])},[t._v(t._s(t.value))]),t._v(" "),t.html?s("div",{staticClass:"gantt-elastic__task-list-item-value",style:t.root.style("task-list-item-value",t.column.style["task-list-item-value"]),domProps:{innerHTML:t._s(t.value)}}):t._e()],2)])};f._withStripped=!0;var w=c({inject:["root"],props:["column","task"],data:()=>({}),computed:{html(){return void 0!==this.column.html&&!0===this.column.html},value(){return"function"==typeof this.column.value?this.column.value(this.task):this.task[this.column.value]}}},f,[],!1,null,null,null);w.options.__file="src/components/TaskList/ItemColumn.vue";var y=c({components:{TaskListExpander:u,ItemColumn:w.exports},inject:["root"],props:["task","expanderStyle"],data:()=>({})},g,[],!1,null,null,null);y.options.__file="src/components/TaskList/TaskListItem.vue";var v=c({components:{TaskListHeader:m,TaskListItem:y.exports},inject:["root"],data:()=>({}),mounted(){this.root.state.refs.taskListWrapper=this.$refs.taskListWrapper,this.root.state.refs.taskList=this.$refs.taskList,this.root.state.refs.taskListItems=this.$refs.taskListItems},computed:{getListExpanderStyle(){return t=>{const e=this.root.state,s=(t.parents.length-1)*e.taskList.expander.padding,r=this.root.getMaximalLevel();let a=e.row.height+2*e.grid.horizontal.gap-this.root.style("grid-line-vertical").strokeWidth,i=(e.taskList.expander.size+this.root.style("calendar-row")["stroke-width"]+s+e.taskList.expander.margin)/100*e.taskList.percent;return e.taskList.expander.straight&&(i=(r-1)*e.taskList.expander.size+2*e.taskList.expander.padding),{width:i+"px",height:a+"px","border-color":"#00000010","padding-left":s+e.taskList.expander.margin+"px",margin:"auto 0px"}}}}},n,[],!1,null,null,null);v.options.__file="src/components/TaskList/TaskList.vue";var k=v.exports,x=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{ref:"chart",staticClass:"gantt-elastic__chart",style:t.root.style("chart"),attrs:{x:"0",y:"0",width:t.getWidth+"px",height:t.getHeight+"px",xmlns:"http://www.w3.org/2000/svg"}},[s("calendar"),t._v(" "),s("foreignObject",{attrs:{x:"0",y:t.root.getCalendarHeight(),width:"100%",height:t.root.state.rowsHeight}},[s("div",{ref:"chartGraph",staticClass:"gantt-elastic__chart-graph",style:t.root.style("chart-graph",{height:"100%"}),attrs:{xmlns:"http://www.w3.org/1999/xhtml"}},[s("svg",{ref:"chart",staticClass:"gantt-elastic__chart",style:t.root.style("chart"),attrs:{x:"0",y:"0",width:t.getWidth+"px",height:t.root.state.allVisibleTasksHeight+"px",viewBox:t.getViewBox,xmlns:"http://www.w3.org/2000/svg"}},[s("grid"),t._v(" "),s("dependency-lines",{attrs:{tasks:t.root.state.tasks}}),t._v(" "),t._l(t.root.state.tasks,function(e){return s("g",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"task.visible"}],key:e.id,staticClass:"gantt-elastic__chart-row-wrapper",style:t.root.style("chart-row-wrapper"),attrs:{task:e}},[s(e.type,{tag:"component",attrs:{task:e}})],1)})],2)])])],1)};x._withStripped=!0;var _=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{ref:"chart",staticClass:"gantt-elastic__grid-lines-wrapper",style:t.root.style("grid-lines-wrapper"),attrs:{x:"0",y:"0",width:t.root.state.width,height:t.root.state.allVisibleTasksHeight,xmlns:"http://www.w3.org/2000/svg"}},[s("g",{staticClass:"gantt-elastic__grid-lines",style:t.root.style("grid-lines")},[t._l(t.horizontalLines,function(e){return s("line",{key:e.key,staticClass:"gantt-elastic__grid-line-horizontal",style:t.root.style("grid-line-horizontal"),attrs:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}})}),t._v(" "),t._l(t.verticalLines,function(e){return e.inViewPort?s("line",{key:e.key,staticClass:"gantt-elastic__grid-line-vertical",style:t.root.style("grid-line-vertical"),attrs:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}}):t._e()}),t._v(" "),s("line",{staticClass:"gantt-elastic__grid-line-time",style:t.root.style("grid-line-time"),attrs:{x1:t.timeLinePosition.x,y1:t.timeLinePosition.y1,x2:t.timeLinePosition.x,y2:t.timeLinePosition.y2}})],2)])};_._withStripped=!0;var $=c({inject:["root"],data:()=>({}),created(){this.root.$on("recenterPosition",this.recenterPosition)},mounted(){this.$nextTick(()=>{this.$nextTick(()=>{this.root.scrollToTime(this.timeLinePosition.time)})})},methods:{recenterPosition(){this.root.scrollToTime(this.timeLinePosition.time)}},computed:{verticalLines(){let t=[];const e=this.root.state;return e.times.steps.forEach(s=>{t.push({key:s.date.valueOf(),x1:s.offset.px,y1:0,x2:s.offset.px,y2:e.tasks.length*(e.row.height+2*e.grid.horizontal.gap)+this.root.style("grid-line-vertical").strokeWidth,inViewPort:this.root.isInsideViewPort(s.offset.px,1)})}),t},horizontalLines(){let t=[];const e=this.root.state;for(let s=0,r=this.root.visibleTasks.length;s<=r;s++)t.push({key:"hl"+s,x1:0,y1:s*(e.row.height+2*e.grid.horizontal.gap)+this.root.style("grid-line-vertical").strokeWidth/2,x2:"100%",y2:s*(e.row.height+2*e.grid.horizontal.gap)+this.root.style("grid-line-vertical").strokeWidth/2});return t},inViewPort(){return t=>{const e=this.root.state;return t.x1>=e.scroll.chart.left&&t.x1<=e.scroll.chart.right}},timeLinePosition(){const t=new Date,e=t.getTime(),s=this.root.timeToPixelOffsetX(e),r={x:0,y1:0,y2:"100%",dateTime:"",time:e};return r.x=s,r.dateTime=t.toLocaleDateString(),r}}},_,[],!1,null,null,null);$.options.__file="src/components/Chart/Grid.vue";var b=$.exports,C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("g",{staticClass:"gantt-elastic__calendar-wrapper",style:t.root.style("calendar-wrapper")},[s("foreignObject",{attrs:{x:t.getX,y:t.getY,width:t.getWidth,height:t.root.state.calendar.height}},[s("div",{staticClass:"gantt-elastic__calendar",style:t.root.style("calendar"),attrs:{xmlns:"http://www.w3.org/1999/xhtml"}})]),t._v(" "),t._l(t.months,function(t){return s("calendar-row",{key:t.key,staticClass:"gantt-elastic__calendar-row--month",attrs:{item:t,which:"month"}})}),t._v(" "),t._l(t.days,function(e){return t.root.isInsideViewPort(e.x,e.width)?s("calendar-row",{key:e.key,staticClass:"gantt-elastic__calendar-row--day",attrs:{item:e,which:"day"}}):t._e()}),t._v(" "),t._l(t.hours,function(e){return t.root.isInsideViewPort(e.x,e.width)?s("calendar-row",{key:e.key,staticClass:"gantt-elastic__calendar-row--hour",attrs:{item:e,which:"hour"}}):t._e()})],2)};C._withStripped=!0;var T=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("g",{staticClass:"gantt-elastic__calendar-row",style:t.root.style("calendar-row")},[s("rect",{class:"gantt-elastic__calendar-row-rect--"+t.which,style:t.root.style("calendar-row-rect--"+t.which),attrs:{x:t.item.x,y:t.item.y,width:t.item.width,height:t.item.height}}),t._v(" "),s("text",{class:"gantt-elastic__calendar-row-text--"+t.which,style:t.root.style("calendar-row-text--"+t.which),attrs:{x:t.getTextX,y:t.getTextY,"alignment-baseline":"middle","text-anchor":"middle"}},[t._v(t._s(t.item.label))])])};T._withStripped=!0;var M=c({inject:["root"],props:["item","which"],data:()=>({}),computed:{getTextX(){return this.item.x+this.item.width/2},getTextY(){return this.item.y+this.item.height/2}}},T,[],!1,null,null,null);M.options.__file="src/components/Calendar/CalendarRow.vue";var L=c({components:{CalendarRow:M.exports},inject:["root"],data:()=>({hours:[],days:[],months:[]}),created(){this.root.$on("scope-change",this.regenerate),this.root.$on("times-timeZoom-change",this.regenerate),this.regenerate()},methods:{howManyHoursFit(t){const e=this.root.style("calendar-row")["stroke-width"]+2;let s=this.root.state.times.steps[t].width.px,r=Object.keys(this.root.state.calendar.hour.format);for(let t=24;t>1;t=Math.ceil(t/2))for(let a of r)if((this.root.state.calendar.hour.maxWidths[a]+e)*t<=s&&t>1)return{count:t,type:a};return{count:0,type:""}},howManyDaysFit(){const t=this.root.style("calendar-row")["stroke-width"]+2;let e=this.root.state.width,s=Object.keys(this.root.state.calendar.day.format);for(let r=this.root.state.times.steps.length;r>1;r=Math.ceil(r/2))for(let a of s)if((this.root.state.calendar.day.maxWidths[a]+t)*r<=e&&r>1)return{count:r,type:a};return{count:0,type:""}},howManyMonthsFit(){const t=this.root.style("calendar-row")["stroke-width"]+2;let e=this.root.state.width,s=Object.keys(this.root.state.calendar.month.format),r=i()(this.root.state.times.firstDate),a=r.clone();const o=this.root.state.times.lastTime;let n=1;for(;r.valueOf()<=o;)r=r.add(1,"day"),a.month()!=r.month()&&n++,a=r.clone();for(let r=n;r>1;r=Math.ceil(r/2))for(let a of s)if((this.root.state.calendar.month.maxWidths[a]+t)*r<=e&&r>1)return{count:r,type:a};return{count:1,type:s[0]}},hourTextStyle(){return"font-family:"+this.root.state.calendar.hour.fontFamily+";font-size:"+this.root.state.calendar.hour.fontSize},dayTextStyle(){return"font-family:"+this.root.state.calendar.day.fontFamily+";font-size:"+this.root.state.calendar.day.fontSize},generateHours(){let t=[];for(let e=0,s=this.root.state.times.steps.length;e<s;e++){const s=this.howManyHoursFit(e),r=24/s.count,a=this.root.state.times.steps[e].width.px/s.count;for(let o=0,n=s.count;o<n;o++){const n=i()(this.root.state.times.steps[e].date).add(o*r,"hour");t.push({key:this.root.state.times.steps[e].date.valueOf()+"h"+o,x:this.root.style("calendar-row")["stroke-width"]/2+this.root.state.times.steps[e].offset.px+a*o,y:this.root.style("calendar-row")["stroke-width"]/2+this.root.state.calendar.day.height+this.root.state.calendar.month.height,width:a,height:this.root.state.calendar.hour.height,label:this.root.state.calendar.hour.format[s.type](n)})}}return this.hours=t},generateDays(){let t=[];const e=this.howManyDaysFit(),s=Math.ceil(this.root.state.times.steps.length/e.count);for(let r=0,a=this.root.state.times.steps.length;r<a;r+=s){let a=0;for(let t=0;t<s;t++)void 0!==this.root.state.times.steps[r+t]&&(a+=this.root.state.times.steps[r+t].width.px);const o=i()(this.root.state.times.steps[r].date);t.push({key:this.root.state.times.steps[r].date.valueOf()+"d",x:this.root.style("calendar-row")["stroke-width"]/2+this.root.state.times.steps[r].offset.px,y:this.root.style("calendar-row")["stroke-width"]/2+this.root.state.calendar.month.height,width:a,height:this.root.state.calendar.day.height,label:this.root.state.calendar.day.format[e.type](o)})}return this.days=t},generateMonths(){let t=[];const e=this.howManyMonthsFit();let s=Object.keys(this.root.state.calendar.month.format),r=i()(this.root.state.times.firstDate);for(let a=0;a<e.count;a++){let e=0,o=Number.MAX_SAFE_INTEGER,n=i()(r).add(1,"month").startOf("month");n.valueOf()>this.root.state.times.lastDate.valueOf()&&(n=i()(this.root.state.times.lastDate));for(let t=0,s=this.root.state.times.steps.length;t<s;t++){let s=this.root.state.times.steps[t];s.date.valueOf()>=r.valueOf()&&s.date.valueOf()<n.valueOf()&&(e+=s.width.px,s.offset.px<o&&(o=s.offset.px))}let l="";for(let t of s)this.root.state.calendar.month.maxWidths[t]+2<=e&&(l=this.root.state.calendar.month.format[t](r));t.push({key:a+"m",x:this.root.style("calendar-row")["stroke-width"]/2+o,y:this.root.style("calendar-row")["stroke-width"]/2,width:e,height:this.root.state.calendar.month.height,label:l}),(r=r.add(1,"month").startOf("month")).valueOf()>this.root.state.times.lastDate.valueOf()&&(r=i()(this.root.state.times.lastDate))}return this.months=t},regenerate(){this.$nextTick(()=>{this.generateHours(),this.generateDays(),this.generateMonths()})}},computed:{getX(){return this.root.style("calendar-row")["stroke-width"]/2},getY(){return this.root.style("calendar-row")["stroke-width"]/2},getWidth(){return this.root.state.width-this.root.style("calendar-row")["stroke-width"]},monthsStyle(){return this.root.mergeDeep({},this.root.state.calendar.styles.row,this.root.state.calendar.month.style)},daysStyle(){return this.root.mergeDeep({},this.root.state.calendar.styles.row,this.root.state.calendar.day.style)},hoursStyle(){return this.root.mergeDeep({},this.root.state.calendar.styles.row,this.root.state.calendar.hour.style)}}},C,[],!1,null,null,null);L.options.__file="src/components/Calendar/Calendar.vue";var S=L.exports,D=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{staticClass:"gantt-elastic__chart-dependency-lines-container",style:t.root.style("chart-dependency-lines-container"),attrs:{width:"100%",height:"100%"}},t._l(t.dependencyTasks,function(e){return s("g",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"task.visible"}],key:e.id,attrs:{task:e}},t._l(e.dependencyLines,function(r){return s("path",{key:r.id,staticClass:"gantt-elastic__chart-dependency-lines-path",style:t.root.style("chart-dependency-lines-path",e.style["chart-dependency-lines-path"]),attrs:{task:e,d:r.points}})}))}))};D._withStripped=!0;var P=c({inject:["root"],props:["tasks"],data:()=>({}),methods:{getPoints(t,e){const s=this.root.getTask(t),r=this.root.getTask(e);if(!r.visible||!s.visible)return"";const a=s.x+s.width,i=s.y+s.height/2,o=r.x,n=r.y+r.height/2,l=o-a;let h,c=1;n>=i?h=n-i:(h=i-n,c=-1);let d=`M ${a} ${i}\n          L ${a+10},${i} `;return d+=l<=14?`Q ${a+10+4},${i} ${a+10+4},${i+4*c}\n            L ${a+10+4},${i+h*c/2-4*c}\n            Q ${a+10+4},${i+h*c/2} ${a+10},${i+h*c/2}\n            L ${a-10+l},${i+h*c/2}\n            Q ${a-10+l-4},${i+h*c/2} ${a-10+l-4},${i+h*c/2+4*c}\n            L ${a-10+l-4},${n-4*c}\n            Q ${a-10+l-4},${n} ${a-10+l},${n}\n            L ${o},${n}`:`L ${a+l/2-4},${i}\n            Q ${a+l/2},${i} ${a+l/2},${i+4*c}\n            L ${a+l/2},${n-4*c}\n            Q ${a+l/2},${n} ${a+l/2+4},${n}\n            L ${o},${n}`}},computed:{dependencyTasks(){return this.tasks.filter(t=>void 0!==t.dependentOn).map(t=>(t.dependencyLines=t.dependentOn.map(e=>({points:this.getPoints(e,t.id)})),t))}}},D,[],!1,null,null,null);P.options.__file="src/components/Chart/DependencyLines.vue";var z=P.exports,E=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("g",{staticClass:"gantt-elastic__chart-row-bar-wrapper gantt-elastic__chart-row-task-wrapper",style:t.root.style("chart-row-bar-wrapper","chart-row-task-wrapper",t.task.style["chart-row-bar-wrapper"])},[s("svg",{staticClass:"gantt-elastic__chart-row-bar gantt-elastic__chart-row-task",style:t.root.style("chart-row-bar","chart-row-task",t.task.style["chart-row-bar"]),attrs:{x:t.task.x,y:t.task.y,width:t.task.width,height:t.task.height,xmlns:"http://www.w3.org/2000/svg"},on:{click:function(e){t.emitEvent("click",e)},mouseenter:function(e){t.emitEvent("mouseenter",e)},mouseover:function(e){t.emitEvent("mouseover",e)},mouseout:function(e){t.emitEvent("mouseout",e)},mousedown:function(e){t.emitEvent("mousedown",e)},mouseup:function(e){t.emitEvent("mouseup",e)},mousewheel:function(e){t.emitEvent("mousewheel",e)},touchstart:function(e){t.emitEvent("touchstart",e)},touchmove:function(e){t.emitEvent("touchmove",e)},touchend:function(e){t.emitEvent("touchend",e)}}},[s("defs",[s("clipPath",{attrs:{id:t.clipPathId}},[s("polygon",{attrs:{points:t.getPoints}})])]),t._v(" "),s("polygon",{staticClass:"gantt-elastic__chart-row-bar-polygon gantt-elastic__chart-row-task-polygon",style:t.root.style("chart-row-bar-polygon","chart-row-task-polygon",t.task.style.base,t.task.style["chart-row-bar-polygon"]),attrs:{points:t.getPoints}}),t._v(" "),s("progress-bar",{attrs:{task:t.task,"clip-path":"url(#"+t.clipPathId+")"}})],1),t._v(" "),t.root.state.row.showText?s("chart-text",{attrs:{task:t.task}}):t._e()],1)};E._withStripped=!0;var O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{staticClass:"gantt-elastic__chart-row-text-wrapper",style:t.root.style("chart-row-text-wrapper"),attrs:{x:t.task.x+t.task.width+t.root.state.chartText.offset,y:t.task.y-t.root.state.grid.horizontal.gap,width:t.getWidth,height:t.getHeight}},[s("foreignObject",{attrs:{x:"0",y:"0",width:"100%",height:t.getHeight}},[s("div",{staticClass:"gantt-elastic__chart-row-text",style:t.root.style("chart-row-text"),attrs:{xmlns:"http://www.w3.org/1999/xhtml"}},[t.html?t._e():s("div",{staticClass:"gantt-elastic__chart-row-text-content gantt-elastic__chart-row-text-content--text",style:Object.assign({},t.root.style("chart-row-text-content","chart-row-text-content--text"),t.contentStyle)},[s("div",[t._v(t._s(t.task.label))])]),t._v(" "),t.html?s("div",{staticClass:"gantt-elastic__chart-row-text-content gantt-elastic__chart-row-text-content--html",style:Object.assign({},t.root.style("chart-row-text-content","chart-row-text-content--html"),t.contentStyle),domProps:{innerHTML:t._s(t.task.label)}}):t._e()])])],1)};O._withStripped=!0;var H=c({inject:["root"],props:["task"],data:()=>({}),computed:{getWidth(){const t=this.root.style("chart-row-text");return this.root.state.ctx.font=`${t["font-weight"]} ${t["font-size"]} ${t["font-family"]}`,this.root.state.ctx.measureText(this.task.label).width+2*this.root.state.chartText.xPadding},getHeight(){return this.task.height+2*this.root.state.grid.horizontal.gap},contentStyle(){return{height:"100%","line-height":this.getHeight+"px"}},html(){const t=this.root.state.taskList.columns;for(let e=0,s=t.length;e<s;e++){const s=t[e];if("label"===s.value&&void 0!==s.html&&s.html)return!0}return!1}}},O,[],!1,null,null,null);H.options.__file="src/components/Chart/Text.vue";var W=H.exports,j=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("g",{staticClass:"gantt-elastic__chart-row-progress-bar-wrapper",style:t.root.style("chart-row-progress-bar-wrapper",t.task.style["chart-row-progress-bar-wrapper"])},[s("defs",[s("pattern",{attrs:{id:"diagonalHatch",width:t.root.state.progress.width,height:t.root.state.progress.width,patternTransform:"rotate(45 0 0)",patternUnits:"userSpaceOnUse"}},[s("line",{staticClass:"chart-row-progress-bar-line",style:t.root.style("chart-row-progress-bar-line",t.task.style["chart-row-progress-bar-line"]),attrs:{x1:"0",y1:"0",x2:"0",y2:t.root.state.progress.width}})])]),t._v(" "),t.root.state.progress.bar?s("rect",{staticClass:"gantt-elastic__chart-row-progress-bar-solid",style:t.root.style("chart-row-progress-bar-solid",t.task.style["chart-row-progress-bar-solid"]),attrs:{x:"0",y:"0",width:t.getProgressWidth}}):t._e(),t._v(" "),t.root.state.progress.pattern?s("g",[s("rect",{staticClass:"gantt-elastic__chart-row-progress-bar-pattern",style:t.root.style("chart-row-progress-bar-pattern",t.task.style["chart-row-progress-bar-pattern"]),attrs:{x:t.getProgressWidth,y:"0",width:100-t.task.progress+"%",height:"100%"}}),t._v(" "),s("path",{staticClass:"gantt-elastic__chart-row-progress-bar-outline",style:t.root.style("chart-row-progress-bar-outline",t.task.style.base,t.task.style["chart-row-progress-bar-outline"]),attrs:{d:t.getLinePoints}})]):t._e()])};j._withStripped=!0;var V=c({inject:["root"],props:["task"],data:()=>({}),computed:{getProgressWidth(){return this.task.progress+"%"},getLinePoints(){const t=this.task.width/100*this.task.progress;return`M ${t} 0 L ${t} ${this.task.height}`},getSolidStyle(){return Object.assign({},this.root.state.progress.styles.bar.solid,this.task.progressBarStyle.bar)},getLineStyle(){return Object.assign({},{stroke:this.root.state.row.styles.bar.stroke+"a0","stroke-width":this.root.state.row.styles.bar["stroke-width"]/2},this.task.style)}}},j,[],!1,null,null,null);V.options.__file="src/components/Chart/ProgressBar.vue";var Y=V.exports,I=c({components:{ChartText:W,ProgressBar:Y},inject:["root"],props:["task"],data:()=>({}),computed:{clipPathId(){return"gantt-elastic__task-clip-path-"+this.task.id},getViewBox(){const t=this.task;return`0 0 ${t.width} ${t.height}`},getGroupTransform(){return`translate(${this.task.x} ${this.task.y})`},getPoints(){const t=this.task;return`0,0 ${t.width},0 ${t.width},${t.height} 0,${t.height}`}},methods:{emitEvent(t,e){this.root.$emit(`chart-${this.task.type}-${t}`,{event:e,data:this.task})}}},E,[],!1,null,null,null);I.options.__file="src/components/Chart/Row/Task.vue";var X=I.exports,U=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("g",{staticClass:"gantt-elastic__chart-row-bar-wrapper gantt-elastic__chart-row-milestone-wrapper",style:t.root.style("chart-row-bar-wrapper","chart-row-milestone-wrapper",t.task.style["chart-row-bar-wrapper"])},[s("svg",{staticClass:"gantt-elastic__chart-row-bar gantt-elastic__chart-row-milestone",style:t.root.style("chart-row-bar","chart-row-milestone",t.task.style["chart-row-bar"]),attrs:{x:t.task.x,y:t.task.y,width:t.task.width,height:t.task.height,xmlns:"http://www.w3.org/2000/svg"},on:{click:function(e){t.emitEvent("click",e)},mouseenter:function(e){t.emitEvent("mouseenter",e)},mouseover:function(e){t.emitEvent("mouseover",e)},mouseout:function(e){t.emitEvent("mouseout",e)},mousedown:function(e){t.emitEvent("mousedown",e)},mouseup:function(e){t.emitEvent("mouseup",e)},mousewheel:function(e){t.emitEvent("mousewheel",e)},touchstart:function(e){t.emitEvent("touchstart",e)},touchmove:function(e){t.emitEvent("touchmove",e)},touchend:function(e){t.emitEvent("touchend",e)}}},[s("defs",[s("clipPath",{attrs:{id:t.clipPathId}},[s("polygon",{attrs:{points:t.getPoints}})])]),t._v(" "),s("polygon",{staticClass:"gantt-elastic__chart-row-bar-polygon gantt-elastic__chart-row-milestone-polygon",style:t.root.style("chart-row-bar-polygon","chart-row-milestone-polygon",t.task.style.base,t.task.style["chart-row-bar-polygon"]),attrs:{points:t.getPoints}}),t._v(" "),s("progress-bar",{attrs:{task:t.task,"clip-path":"url(#"+t.clipPathId+")"}})],1),t._v(" "),t.root.state.row.showText?s("chart-text",{attrs:{task:t.task}}):t._e()],1)};U._withStripped=!0;var B=c({components:{ChartText:W,ProgressBar:Y},inject:["root"],props:["task"],data:()=>({}),computed:{clipPathId(){return"gantt-elastic__milestone-clip-path-"+this.task.id},getViewBox(){return`0 0 ${this.task.width} ${this.task.height}`},getGroupTransform(){return`translate(${this.task.x} ${this.task.y})`},getPoints(){const t=this.task,e=t.height/2;let s=e;return t.width/2-s<0&&(s=t.width/2),`0,${e}\n        ${s},0\n        ${t.width-s},0\n        ${t.width},${e}\n        ${t.width-s},${t.height}\n        ${s},${t.height}`}},methods:{emitEvent(t,e){this.root.$emit(`chart-${this.task.type}-${t}`,{event:e,data:this.task})}}},U,[],!1,null,null,null);B.options.__file="src/components/Chart/Row/Milestone.vue";var N=B.exports,R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("g",{staticClass:"gantt-elastic__chart-row-bar-wrapper gantt-elastic__chart-row-project-wrapper",style:t.root.style("chart-row-bar-wrapper",t.root.style("chart-row-project-wrapper"),t.task.style["chart-row-bar-wrapper"])},[s("svg",{staticClass:"gantt-elastic__chart-row-bar gantt-elastic__chart-row-project",style:t.root.style("chart-row-bar","chart-row-project",t.task.style["chart-row-bar"]),attrs:{x:t.task.x,y:t.task.y,width:t.task.width,height:t.task.height,xmlns:"http://www.w3.org/2000/svg"},on:{click:function(e){t.emitEvent("click",e)},mouseenter:function(e){t.emitEvent("mouseenter",e)},mouseover:function(e){t.emitEvent("mouseover",e)},mouseout:function(e){t.emitEvent("mouseout",e)},mousedown:function(e){t.emitEvent("mousedown",e)},mouseup:function(e){t.emitEvent("mouseup",e)},mousewheel:function(e){t.emitEvent("mousewheel",e)},touchstart:function(e){t.emitEvent("touchstart",e)},touchmove:function(e){t.emitEvent("touchmove",e)},touchend:function(e){t.emitEvent("touchend",e)}}},[s("defs",[s("clipPath",{attrs:{id:t.clipPathId}},[s("path",{attrs:{d:t.getPoints}})])]),t._v(" "),s("path",{staticClass:"gantt-elastic__chart-row-bar-polygon gantt-elastic__chart-row-project-polygon",style:t.root.style("chart-row-bar-polygon","chart-row-project-polygon",t.task.style.base,t.task.style["chart-row-bar-polygon"]),attrs:{d:t.getPoints}}),t._v(" "),s("progress-bar",{attrs:{task:t.task,"clip-path":"url(#"+t.clipPathId+")"}})],1),t._v(" "),t.root.state.row.showText?s("chart-text",{attrs:{task:t.task}}):t._e()],1)};R._withStripped=!0;var F=c({components:{ChartText:W,ProgressBar:Y},inject:["root"],props:["task"],data:()=>({}),computed:{clipPathId(){return"gantt-elastic__project-clip-path-"+this.task.id},getViewBox(){return`0 0 ${this.task.width} ${this.task.height}`},getGroupTransform(){return`translate(${this.task.x} ${this.task.y})`},getPoints(){const t=this.task,e=t.height-t.height/4,s=t.height/6,r=t.height/8;return`M ${r},0\n                L ${t.width-r} 0\n                L ${t.width} ${r}\n                L ${t.width} ${e}\n                L ${t.width-s} ${t.height}\n                L ${t.width-2*s} ${e}\n                L ${2*s} ${e}\n                L ${s} ${t.height}\n                L 0 ${e}\n                L 0 ${r}\n                Z\n        `}},methods:{emitEvent(t,e){this.root.$emit(`chart-${this.task.type}-${t}`,{event:e,data:this.task})}}},R,[],!1,null,null,null);F.options.__file="src/components/Chart/Row/Project.vue";var A=c({components:{Grid:b,DependencyLines:z,Calendar:S,Task:X,Milestone:N,Project:F.exports},inject:["root"],data:()=>({moving:!1}),mounted(){this.root.state.refs.chart=this.$refs.chart,this.root.state.refs.chartGraph=this.$refs.chartGraph},computed:{getWidth(){return this.root.state.width},getHeight(){return this.root.state.height},getViewBox(){return`0 0 ${Math.round(this.getWidth)} ${this.root.state.allVisibleTasksHeight}`}}},x,[],!1,null,null,null);A.options.__file="src/components/Chart/Chart.vue";var G=c({components:{TaskList:k,Chart:A.exports},inject:["root"],props:["tasks","options"],data:()=>({defs:"",moving:!1,mousePos:{x:0,y:0,movementX:0,movementY:0,lastX:0,lastY:0,positiveX:0,positiveY:0}}),mounted(){this.root.state.refs.svgMainView=this.$refs.svgMainView,this.root.state.refs.svgChart=this.$refs.svgChart,this.root.state.refs.svgChartContainer=this.$refs.svgChartContainer,this.root.state.refs.svgTaskList=this.$refs.svgTaskList,this.root.state.refs.chartScrollContainerHorizontal=this.$refs.chartScrollContainerHorizontal,this.root.state.refs.chartScrollContainerVertical=this.$refs.chartScrollContainerVertical,document.addEventListener("mouseup",this.chartMouseUp.bind(this)),document.addEventListener("mousemove",this.chartMouseMove.bind(this)),document.addEventListener("touchmove",this.chartMouseMove.bind(this)),document.addEventListener("touchend",this.chartMouseUp.bind(this))},computed:{getWidth(){return this.root.state.width+this.root.state.taskList.finalWidth},getMainViewStyle(){return{width:this.root.state.width+"px"}},getMarginLeft(){return this.root.state.taskList.display?this.root.state.taskList.finalWidth+"px":"0px"},verticalStyle(){return{width:this.root.state.scrollBarHeight+"px",height:this.root.state.rowsHeight+"px","margin-top":this.root.state.calendar.height+this.root.state.calendar.gap+"px"}}},methods:{mouseMove(t){this.root.$emit("main-view-mousemove",t)},mouseUp(t){this.root.$emit("main-view-mouseup",t)},onHorizontalScroll(t){this.root.$emit("chart-scroll-horizontal",t)},onVerticalScroll(t){this.root.$emit("chart-scroll-vertical",t)},chartWheel(t){this.root.$emit("chart-wheel",t)},chartMouseDown(t){void 0!==t.touches&&(this.mousePos.x=this.mousePos.lastX=t.touches[0].screenX,this.mousePos.y=this.mousePos.lastY=t.touches[0].screenY,this.mousePos.positiveX=0,this.mousePos.positiveY=0,this.mousePos.movementX=0,this.mousePos.movementY=0),this.moving=!0},chartMouseUp(t){this.moving=!1},chartMouseMove(t){if(this.moving){t.preventDefault(),t.stopImmediatePropagation(),t.stopPropagation();const e=void 0!==t.touches;let s,r;if(e){const e=t.touches[0].screenX,a=t.touches[0].screenY;s=this.mousePos.x-e,r=this.mousePos.y-a;let i=e-this.mousePos.lastX>0?1:-1,o=a-this.mousePos.lastY>0?1:-1;this.mousePos.lastX=e,this.mousePos.lastY=a,i!==this.mousePos.positiveX&&(this.mousePos.x=e,this.mousePos.positiveX=i,s=0),o!==this.mousePos.positiveY&&(this.mousePos.y=a,this.mousePos.positiveY=o,r=0)}else s=t.movementX,r=t.movementY;const a=this.$refs.chartScrollContainerHorizontal,i=this.$refs.chartScrollContainerVertical,o=a.scrollLeft;let n=0,l=0;n=e?o+s:o-s*this.root.state.scroll.dragXMoveMultiplier,a.scrollLeft=n;const h=i.scrollTop;l=e?h+r:h-r*this.root.state.scroll.dragYMoveMultiplier,i.scrollTop=l}}}},o,[],!1,null,null,null);G.options.__file="src/components/MainView.vue";const Z="Arial, sans-serif";var J={header:{"font-family":Z,margin:"0px auto",background:"#f3f5f747",padding:"10px",overflow:"hidden",clear:"both",display:"flex","justify-content":"space-between"},"header-title":{float:"left"},"header-options":{float:"right"},"header-title--text":{"font-size":"20px","vertical-align":"middle","font-weight":"400","line-height":"35px","padding-left":"22px","letter-spacing":"1px"},"header-title--html":{"font-size":"20px","vertical-align":"middle","font-weight":"400","line-height":"35px","padding-left":"22px","letter-spacing":"1px"},"header-btn-recenter":{background:"#95A5A6",border:"none",outline:"none",cursor:"pointer",color:"white","border-radius":"3px","margin-right":"27px","font-size":"16px",padding:"8px 12px"},"header-slider":{},"header-slider-wrapper":{display:"inline-block","vertical-align":"middle"},"header-slider--slider":{},"header-slider--process":{background:"#ccc"},"header-task-list-switch--label":{},"header-task-list-switch":{margin:"0px 15px","vertical-align":"middle"},"header-label":{},"calendar-wrapper":{"user-select":"none"},calendar:{width:"100%",height:"100%",background:"#f3f5f7","border-color":"#f3f5f7"},"calendar-row":{fill:"transparent",stroke:"#dadada","stroke-width":.5},"calendar-row--month":{},"calendar-row--day":{},"calendar-row--hour":{},"calendar-row-rect--month":{},"calendar-row-text--month":{"font-family":Z,"font-size":"12px",fill:"#606060",stroke:"none"},"calendar-row-rect--day":{},"calendar-row-text--day":{"font-family":Z,"font-size":"12px",fill:"#606060",stroke:"none"},"calendar-row-rect--hour":{},"calendar-row-text--hour":{"font-family":Z,"font-size":"12px",fill:"#606060",stroke:"none"},"task-list-wrapper":{},"task-list":{background:"transparent","border-color":"#eee"},"task-list-header":{display:"flex","user-select":"none","vertical-align":"middle"},"task-list-header-column":{border:"1px solid #00000050","border-top":"none","border-right":"none","box-sizing":"border-box",display:"flex",background:"#f3f5f7","border-color":"transparent"},"task-list-column-expander-wrapper":{stroke:"#909090","stroke-width":"1",fill:"#ffffffa0",display:"inline-flex","flex-shrink":"0","box-sizing":"border-box",margin:"0 10px"},"task-list-column-expander-content":{display:"inline-flex",cursor:"pointer",margin:"auto 0px","box-sizing":"border-box","user-select":"none"},"task-list-column-expander-line":{fill:"transparent",stroke:"#000000","stroke-width":"1","stroke-linecap":"round"},"task-list-column-expander-border":{fill:"#ffffffa0",stroke:"#000000"},"task-list-header-label":{overflow:"hidden","text-overflow":"ellipsis","font-family":Z,"font-size":"12px","box-sizing":"border-box",margin:"auto 6px","flex-grow":"1","vertical-align":"middle"},"task-list-header-resizer-wrapper":{background:"transparent",height:"100%",width:"6px",cursor:"col-resize",display:"inline-flex","vertical-align":"center"},"task-list-header-resizer":{margin:"auto 0px"},"task-list-header-resizer-dot":{width:"3px",height:"3px",background:"#ddd","border-radius":"100%",margin:"4px 0px"},"task-list-items":{overflow:"hidden"},"task-list-item":{"border-top":"1px solid #eee","border-right":"1px solid #eee","box-sizing":"border-box",display:"flex",background:"transparent"},"task-list-item-column":{display:"inline-flex","flex-shrink":"0","border-left":"1px solid #00000050","box-sizing":"border-box","border-color":"#eee"},"task-list-item-value-wrapper":{overflow:"hidden",display:"flex",width:"100%"},"task-list-item-value":{display:"block","flex-shrink":"100","font-family":Z,"font-size":"12px",width:"100%",margin:"auto 6px",overflow:"hidden","text-overflow":"ellipsis","line-height":"1.5em","word-break":"keep-all","white-space":"nowrap",color:"#606060"},"grid-lines":{},"grid-line-horizontal":{stroke:"#00000010",strokeWidth:1},"grid-line-vertical":{stroke:"#00000010",strokeWidth:1},"grid-line-time":{stroke:"#FF000080",strokeWidth:1},chart:{"user-select":"none",overflow:"hidden"},"chart-graph":{overflow:"hidden"},"chart-row-text-wrapper":{},"chart-row-text":{background:"#ffffffa0","border-radius":"10px","font-family":Z,"font-size":"12px","font-weight":"normal",color:"#000000a0",height:"100%"},"chart-row-text-content":{padding:"0px 6px"},"chart-row-text-content--text":{},"chart-row-text-content--html":{},"chart-row-wrapper":{},"chart-row-bar-wrapper":{},"chart-row-bar":{},"chart-row-bar-polygon":{stroke:"#E74C3C","stroke-width":1,fill:"#F75C4C"},"chart-row-project-wrapper":{},"chart-row-project":{},"chart-row-project-polygon":{},"chart-row-milestone-wrapper":{},"chart-row-milestone":{},"chart-row-milestone-polygon":{},"chart-row-task-wrapper":{},"chart-row-task":{},"chart-row-task-polygon":{},"chart-row-progress-bar-wrapper":{},"chart-row-progress-bar":{},"chart-row-progress-bar-line":{stroke:"#ffffff25","stroke-width":20},"chart-row-progress-bar-solid":{fill:"#E74C3C",height:"20%"},"chart-row-progress-bar-pattern":{fill:"url(#diagonalHatch)",transform:"translateY(0.1) scaleY(0.8)"},"chart-row-progress-bar-outline":{stroke:"#E74C3C","stroke-width":1},"chart-dependency-lines-wrapper":{},"chart-dependency-lines-path":{fill:"transparent",stroke:"#FFa00090","stroke-width":2},"chart-scroll-container":{},"chart-scroll-container--horizontal":{overflow:"auto","max-width":"100%"},"chart-scroll-container--vertical":{"overflow-y":"auto","overflow-x":"hidden","max-height":"100%",float:"right"},"svg-chart":{overflow:"hidden"},"svg-container-wrapper":{overflow:"hidden"},"svg-container":{float:"left"}};function Q(t){return t&&"object"==typeof t&&!Array.isArray(t)}function q(t,...e){if(!e.length)return t;const s=e.shift();if(Q(t)&&Q(s))for(const e in s)Q(s[e])?(t[e]||Object.assign(t,{[e]:{}}),q(t[e],s[e])):Object.assign(t,{[e]:s[e]});return q(t,...e)}function K(t,e,...s){if(!s.length)return e;const r=s.shift();if(Q(e)&&Q(r))for(const s in r)Q(r[s])?(e[s]||t.$set(e,s,{}),K(t,e[s],r[s])):t.$set(e,s,r[s]);return K(t,e,...s)}const tt={};var et={components:{MainView:G.exports},props:["tasks","options"],provide(){const t={},e=this;return Object.defineProperty(t,"root",{enumerable:!0,get:()=>e}),t},data:()=>({state:{tasks:[],scrollBarHeight:0,allVisibleTasksHeight:0,refs:{}}}),methods:{mergeDeep:q,mergeDeepReactive:K,getScrollBarHeight(){const t=document.createElement("div");t.style.visibility="hidden",t.style.height="100px",t.style.msOverflowStyle="scrollbar",document.body.appendChild(t);var e=t.offsetHeight;t.style.overflow="scroll";var s=document.createElement("div");s.style.height="100%",t.appendChild(s);var r=s.offsetHeight;return t.parentNode.removeChild(t),this.state.scrollBarHeight=e-r},style(...t){const e=JSON.stringify(t);if(void 0!==tt[e])return tt[e];let s={};return t.forEach(t=>{"string"==typeof t?s=Object.assign({},s,this.state.style[t]):"object"==typeof t?s=Object.assign({},s,t):"function"==typeof t&&(s=Object.assign({},t()))}),tt[e]=s,s},refreshTasks(){this.state.tasks=this.state.tasks.map(t=>(void 0===t.x&&this.$set(t,"x",0),void 0===t.y&&this.$set(t,"y",0),void 0===t.width&&this.$set(t,"width",0),void 0===t.height&&this.$set(t,"height",0),void 0===t.tooltip&&this.mergeDeepReactive(this,t,{tooltip:{visible:!1}}),void 0===t.tooltip.visible&&(t.tooltip.visible=!1),void 0===t.mouseOver&&this.$set(t,"mouseOver",!1),void 0===t.visible&&this.$set(t,"visible",!0),void 0===t.collapsed&&this.$set(t,"collapsed",!1),void 0===t.dependentOn&&this.$set(t,"dependentOn",[]),void 0===t.parentId&&this.$set(t,"parentId",null),void 0===t.style&&this.$set(t,"style",{}),void 0===t.children&&this.$set(t,"children",[]),void 0===t.allChildren&&this.$set(t,"allChildren",[]),void 0===t.parents&&this.$set(t,"parents",[]),void 0===t.parent&&this.$set(t,"parent",null),void 0===t.durationMs&&this.$set(t,"durationMs",[]),t))},initialize(){this.mergeDeepReactive(this,this.state,function(t){return{style:J,title:{label:"gantt-elastic",html:!1},width:0,height:0,rowsHeight:0,scroll:{dragXMoveMultiplier:3,dragYMoveMultiplier:2,top:0,taskList:{left:0,right:0,top:0,bottom:0},chart:{left:0,right:0,percent:0,timePercent:0,top:0,topTask:0,bottom:0,time:0,timeCenter:0,dateTime:{left:"",right:""}}},svgElement:null,scope:{before:1,after:1},times:{timeScale:6e4,timeZoom:17,timePerPixel:0,fistDate:null,firstTime:null,lastDate:null,lastTime:null,firstTaskDate:null,firstTaskTime:0,lastTaskDate:null,lastTaskTime:0,totalViewDurationMs:0,totalViewDurationPx:0,stepDuration:"day",steps:[]},row:{height:24,showText:!0},maxRows:20,chartText:{offset:0,xPadding:10},dependencyLines:{},progress:{width:20,height:6,pattern:!0,bar:!1},grid:{horizontal:{gap:6,lines:[]},vertical:{lines:[]},timeLine:{}},taskList:{display:!0,columns:[{id:0,label:"ID",value:"id",width:40}],resizerWidth:0,percent:100,width:0,finalWidth:0,expander:{size:16,columnWidth:24,padding:16,margin:10,straight:!0}},calendar:{hours:[],days:[],months:[],gap:6,height:0,hour:{height:20,display:!0,widths:[],maxWidths:{},format:{long:e=>i()(e).locale(t.locale.code).format("HH:mm"),medium:e=>i()(e).locale(t.locale.code).format("HH:mm"),short:e=>i()(e).locale(t.locale.code).format("HH")}},day:{height:20,display:!0,widths:[],maxWidths:{},format:{long:e=>i()(e).locale(t.locale.code).format("DD dddd"),medium:e=>i()(e).locale(t.locale.code).format("DD ddd"),short:e=>i()(e).locale(t.locale.code).format("DD")}},month:{height:20,display:!0,widths:[],maxWidths:{},format:{short:e=>i()(e).locale(t.locale.code).format("MM"),medium:e=>i()(e).locale(t.locale.code).format("'YY MMM"),long:e=>i()(e).locale(t.locale.code).format("YYYY MMMM (MM)")}}},defs:[],locale:{code:"en",Now:"Now","X-Scale":"Zoom-X","Y-Scale":"Zoom-Y","Task list width":"Task list","Before/After":"Expand","Display task list":"Show task list"}}}(this.options),this.options,{tasks:this.tasks}),this.state.tasks=this.tasks.map(t=>(this.$set(t,"start",i()(t.start).format("YYYY-MM-DD HH:mm:ss")),t)),i.a.locale(this.options.locale,null,!0),void 0===this.state.taskList&&this.$set(this.state,"taskList",{}),void 0===this.state.taskList.columns&&this.$set(this.state.taskList,"columns",[]),this.state.taskList.columns=this.state.taskList.columns.map((t,e)=>(this.$set(t,"finalWidth",t.width/100*this.state.taskList.percent),void 0===t.height&&this.$set(t,"height",0),void 0===t.style&&this.$set(t,"style",{}),this.$set(t,"_id",`${e}-${t.label}`),t)),this.refreshTasks(!0),this.state.rootTask={id:null,label:"root",children:[],allChildren:[],parents:[],parent:null},this.resetTaskTree(),this.state.taskTree=this.makeTaskTree(this.state.rootTask),this.state.tasks=this.state.taskTree.allChildren,this.state.ctx=document.createElement("canvas").getContext("2d"),this.calculateTaskListColumnsWidths(),this.state.scrollBarHeight=this.getScrollBarHeight(),this.state.outerHeight=this.state.height+this.state.scrollBarHeight},getCalendarHeight(){return this.state.calendar.height+this.style("calendar-row")["stroke-width"]+this.state.calendar.gap},calculateCalendarDimensions(){this.state.calendar.height=0,this.state.calendar.hour.display&&(this.state.calendar.height+=this.state.calendar.hour.height),this.state.calendar.day.display&&(this.state.calendar.height+=this.state.calendar.day.height),this.state.calendar.month.display&&(this.state.calendar.height+=this.state.calendar.month.height)},getMaximalLevel(){let t=0;return this.state.tasks.forEach(e=>{e.parents.length>t&&(t=e.parents.length)}),t-1},getMaximalExpanderWidth(){return this.getMaximalLevel()*this.state.taskList.expander.padding+this.state.taskList.expander.margin},calculateTaskListColumnsWidths(){let t=0;this.state.taskList.columns.forEach(e=>{e.expander?e.finalWidth=(this.getMaximalExpanderWidth()+e.width)/100*this.state.taskList.percent:e.finalWidth=e.width/100*this.state.taskList.percent,t+=e.finalWidth,e.height=this.state.row.height+2*this.state.grid.horizontal.gap-this.state.grid.horizontal.strokeWidth}),this.state.taskList.finalWidth=t,"undefined"!=typeof document&&t>document.body.clientWidth/2&&(this.state.taskList.display=!1)},resetTaskTree(){this.state.rootTask.children=[],this.state.rootTask.allChildren=[],this.state.rootTask.parent=null,this.state.rootTask.parents=[];for(let t=0,e=this.state.tasks.length;t<e;t++){let e=this.state.tasks[t];e.children=[],e.allChildren=[],e.parent=null,e.parents=[]}},makeTaskTree(t){for(let e=0,s=this.state.tasks.length;e<s;e++){let s=this.state.tasks[e];s.parentId===t.id&&(t.parents.length&&t.parents.forEach(t=>s.parents.push(t)),t!==this.root?(s.parents.push(t),s.parent=t):(s.parents=[],s.parent=null),s=this.makeTaskTree(s),t.allChildren.push(s),t.children.push(s),s.allChildren.forEach(e=>t.allChildren.push(e)))}return t},getTask(t){return this.tasksById[t]},getChildren(t){return this.state.tasks.filter(e=>e.parent===t)},getSVG(){return this.state.svgMainView.outerHTML},getImage(t="image/png"){return new Promise((e,s)=>{const r=new Image;r.onload=(()=>{const s=document.createElement("canvas");s.width=this.state.svgMainView.clientWidth,s.height=this.state.svgMainView.clientHeight,s.getContext("2d").drawImage(r,0,0),e(s.toDataURL(t))}),r.src="data:image/svg+xml,"+encodeURIComponent(this.getSVG())})},getHeight(t,e=!1){let s=t.length*(this.state.row.height+2*this.state.grid.horizontal.gap)+this.state.calendar.height+2*this.style("calendar-row")["stroke-width"]+this.state.calendar.gap;return e&&(s+=this.state.scrollBarHeight),s},getTasksHeight(t,e=!1){return t.length*(this.state.row.height+2*this.state.grid.horizontal.gap)},timeToPixelOffsetX(t){let e=t-this.state.times.firstTime;return e&&(e/=this.state.times.timePerPixel),e},pixelOffsetXToTime(t){return(t+this.style("grid-line-vertical").strokeWidth/2)*this.state.times.timePerPixel+this.state.times.firstTime},isInsideViewPort(t,e,s=5e3){return t+e+s>=this.state.scroll.chart.left&&t-s<=this.state.scroll.chart.right||t-s<=this.state.scroll.chart.left&&t+e+s>=this.state.scroll.chart.right},onScrollChart(t){const e=this.state.refs.chartScrollContainerHorizontal,s=this.state.refs.chartScrollContainerVertical;this._onScrollChart(e.scrollLeft,s.scrollTop)},_onScrollChart(t,e){const s=this.state.refs.svgChartContainer.clientWidth;this.state.scroll.chart.left=t,this.state.scroll.chart.right=t+s,this.state.scroll.chart.percent=t/this.state.times.totalViewDurationPx*100,this.state.scroll.chart.top=e,this.state.scroll.chart.topTask=Math.floor(e/(this.state.row.height+2*this.state.grid.horizontal.gap)),this.state.scroll.chart.time=this.pixelOffsetXToTime(t),this.state.scroll.chart.timeCenter=this.pixelOffsetXToTime(t+s/2),this.state.scroll.chart.dateTime.left=i()(this.state.scroll.chart.time),this.state.scroll.chart.dateTime.right=i()(this.pixelOffsetXToTime(t+this.state.refs.chart.clientWidth)),this.scrollTo(t,e)},scrollToTime(t){let e=this.timeToPixelOffsetX(t);const s=this.state.refs.svgChartContainer.clientWidth;(e-=s/2)>this.state.width&&(e=this.state.width-s),this.scrollTo(e)},scrollTo(t=null,e=null){null!==t&&(this.state.refs.svgChartContainer.scrollLeft=t,this.state.refs.chartScrollContainerHorizontal.scrollLeft=t,this.state.scroll.left=t),null!==e&&(this.state.refs.chartScrollContainerVertical.scrollTop=e,this.state.refs.taskListItems.scrollTop=e,this.state.refs.chartGraph.scrollTop=e,this.state.scroll.top=e)},fixScrollPos(){this.$nextTick(()=>{this.scrollToTime(this.state.scroll.chart.timeCenter)})},onWheelChart(t){if(t.shiftKey){let e=this.state.scroll.left+t.deltaY;const s=this.state.refs.chartScrollContainerHorizontal.clientWidth,r=this.state.refs.chartScrollContainerHorizontal.scrollWidth-s;e<0?e=0:e>r&&(e=r),this.scrollTo(e)}else{let e=this.state.scroll.top+t.deltaY;const s=this.state.refs.chartGraph.clientHeight,r=this.state.refs.chartGraph.scrollHeight-s;e<0?e=0:e>r&&(e=r),this.scrollTo(null,e)}},onTimeZoomChange(t){this.state.times.timeZoom=t,this.recalculateTimes(),this.calculateSteps(),this.calculateCalendarDimensions(),this.fixScrollPos()},onRowHeightChange(t){this.state.row.height=t,this.calculateTaskListColumnsWidths()},onScopeChange(t){this.state.scope.before=t,this.state.scope.after=t,this.initTimes(),this.calculateSteps(),this.computeCalendarWidths(),this.fixScrollPos()},onTaskListWidthChange(t){this.state.taskList.percent=t,this.calculateTaskListColumnsWidths(),this.fixScrollPos()},onTaskListColumnWidthChange(t){this.calculateTaskListColumnsWidths(),this.fixScrollPos()},initializeEvents(){this.$on("chart-scroll-horizontal",this.onScrollChart),this.$on("chart-scroll-vertical",this.onScrollChart),this.$on("chart-wheel",this.onWheelChart),this.$on("times-timeZoom-change",this.onTimeZoomChange),this.$on("row-height-change",this.onRowHeightChange),this.$on("scope-change",this.onScopeChange),this.$on("taskList-width-change",this.onTaskListWidthChange),this.$on("taskList-column-width-change",this.onTaskListColumnWidthChange)},recalculateTimes(){let t=60*this.state.times.timeScale/this.state.times.timeScale,e=this.state.times.timeZoom/100;this.state.times.timePerPixel=this.state.times.timeScale*t*e+Math.pow(2,this.state.times.timeZoom),this.state.times.totalViewDurationMs=this.state.times.lastDate.diff(this.state.times.firstDate,"milisecods"),this.state.times.totalViewDurationPx=this.state.times.totalViewDurationMs/this.state.times.timePerPixel,this.state.width=this.state.times.totalViewDurationPx+this.style("grid-line-vertical").strokeWidth},initTimes(){this.state.times.firstDate=i()(this.state.times.firstTaskDate).locale(this.locale).startOf("day").subtract(this.state.scope.before,"days").startOf("day"),this.state.times.lastDate=i()(this.state.times.lastTaskDate).locale(this.locale).endOf("day").add(this.state.scope.after,"days").endOf("day"),this.state.times.firstTime=this.state.times.firstDate.valueOf(),this.state.times.lastTime=this.state.times.lastDate.valueOf(),this.recalculateTimes()},calculateSteps(){const t=[],e=i()(this.state.times.lastDate).valueOf(),s=i()(this.state.times.firstDate);t.push({date:s,offset:{ms:0,px:0}});for(let s=i()(this.state.times.firstDate).add(1,this.state.times.stepDuration).startOf("day");s.valueOf()<=e;s=s.add(1,this.state.times.stepDuration).startOf("day")){const e=s.diff(this.state.times.firstDate,"milisecods"),r=e/this.state.times.timePerPixel,a={date:s,offset:{ms:e,px:r}},i=t[t.length-1];i.width={ms:e-i.offset.ms,px:r-i.offset.px},t.push(a)}const r=t[t.length-1];r.width={ms:this.state.times.totalViewDurationMs-r.offset.ms,px:this.state.times.totalViewDurationPx-r.offset.px},this.state.times.steps=t},computeCalendarWidths(){this.computeDayWidths(),this.computeHourWidths(),this.computeMonthWidths()},computeHourWidths(){const t=this.state;t.ctx.font=t.calendar.hour.fontSize+" "+t.calendar.fontFamily;let e=i()("2018-01-01T00:00:00"),s={};Object.keys(t.calendar.hour.format).forEach(t=>{s[t]=0});for(let r=0;r<24;r++){const a={hour:r};Object.keys(t.calendar.hour.format).forEach(s=>{a[s]=t.ctx.measureText(t.calendar.hour.format[s](e.toDate())).width}),t.calendar.hour.widths.push(a),Object.keys(t.calendar.hour.format).forEach(t=>{a[t]>s[t]&&(s[t]=a[t])}),e=e.add(1,"hour")}t.calendar.hour.maxWidths=s},computeDayWidths(){const t=this.state;t.ctx.font=t.calendar.day.fontSize+" "+t.calendar.fontFamily;let e=i()(t.times.steps[0].date),s={};Object.keys(t.calendar.day.format).forEach(t=>{s[t]=0});for(let r=0,a=t.times.steps.length;r<a;r++){const a={day:r};Object.keys(t.calendar.day.format).forEach(s=>{a[s]=t.ctx.measureText(t.calendar.day.format[s](e.toDate())).width}),t.calendar.day.widths.push(a),Object.keys(t.calendar.day.format).forEach(t=>{a[t]>s[t]&&(s[t]=a[t])}),e=e.add(1,"day")}t.calendar.day.maxWidths=s},computeMonthWidths(){const t=this.state;t.ctx.font=t.calendar.day.fontSize+" "+t.calendar.fontFamily;let e={};Object.keys(t.calendar.month.format).forEach(t=>{e[t]=0});let s=i()(this.state.times.firstDate);const r=Math.ceil(this.state.times.lastDate.diff(this.state.times.firstDate,"months",!0));for(let a=0;a<r;a++){const r={month:a};Object.keys(t.calendar.month.format).forEach(e=>{r[e]=t.ctx.measureText(t.calendar.month.format[e](s.toDate())).width}),t.calendar.month.widths.push(r),Object.keys(t.calendar.month.format).forEach(t=>{r[t]>e[t]&&(e[t]=r[t])}),s=s.add(1,"month")}t.calendar.month.maxWidths=e},prepareDates(){let t,e,s=Number.MAX_SAFE_INTEGER,r=0;for(let a=0,o=this.state.tasks.length;a<o;a++){let o=this.state.tasks[a];o.startDate=i()(o.start),o.startTime=o.startDate.valueOf(),o.durationMs=1e3*o.duration,o.startTime<s&&(s=o.startTime,t=o.startDate),o.startTime+o.durationMs>r&&(r=o.startTime+o.durationMs,e=i()(o.startTime+o.durationMs))}this.state.times.firstTaskTime=s,this.state.times.lastTaskTime=r,this.state.times.firstTaskDate=t,this.state.times.lastTaskDate=e,this.state.times.firstDate=i()(t).locale(this.locale).startOf("day").subtract(this.state.scope.before,"days").startOf("day"),this.state.times.lastDate=i()(e).locale(this.locale).endOf("day").add(this.state.scope.after,"days").endOf("day")},setup(){this.initialize(),this.tasksById={},this.state.tasks.forEach(t=>this.tasksById[t.id]=t),this.prepareDates(),this.initTimes(),this.calculateSteps(),this.computeCalendarWidths(),this.calculateCalendarDimensions(),this.state.taskList.width=this.state.taskList.columns.reduce((t,e)=>({width:t.width+e.width}),{width:0}).width}},computed:{visibleTasks(){const t=this.state.tasks.filter(t=>t.visible),e=t.slice(0,this.state.maxRows);this.state.height=this.getHeight(e),this.state.allVisibleTasksHeight=this.getTasksHeight(t),this.state.rowsHeight=this.getTasksHeight(e),this.state.outerHeight=this.getHeight(e,!0);let s=t.length;for(let e=0;e<s;e++){let s=t[e];s.width=s.durationMs/this.state.times.timePerPixel-this.style("grid-line-vertical").strokeWidth,s.width<0&&(s.width=0),s.height=this.state.row.height,s.x=this.timeToPixelOffsetX(s.startTime),s.y=(this.state.row.height+2*this.state.grid.horizontal.gap)*e+this.state.grid.horizontal.gap}return t}},created(){let t=[];this.$watch("state.tasks",(e,s)=>{t.length!==e.length&&(this.refreshTasks(),this.prepareDates(),this.initTimes(),this.state.tasks.forEach(t=>this.tasksById[t.id]=t),this.resetTaskTree(),this.state.taskTree=this.makeTaskTree(this.state.rootTask),this.state.tasks=this.state.taskTree.allChildren,this.root),t=e.slice()},{immediate:!0,deep:!0}),this.initializeEvents(),this.setup(),this.$root.$emit("gantt-elastic-created",this)},mounted(){this.$root.$emit("gantt-elastic-mounted",this),this.$root.$emit("gantt-elastic-ready",this)}};s(3);s.d(e,"mergeDeep",function(){return q}),s.d(e,"mergeDeepReactive",function(){return K});var st=c(et,r,[],!1,null,null,null);st.options.__file="src/GanttElastic.vue";e.default=st.exports},function(t,e,s){"use strict";function r(t,e){for(var s=[],r={},a=0;a<e.length;a++){var i=e[a],o=i[0],n={id:t+":"+a,css:i[1],media:i[2],sourceMap:i[3]};r[o]?r[o].parts.push(n):s.push(r[o]={id:o,parts:[n]})}return s}s.r(e),s.d(e,"default",function(){return m});var a="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!a)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i={},o=a&&(document.head||document.getElementsByTagName("head")[0]),n=null,l=0,h=!1,c=function(){},d=null,u="data-vue-ssr-id",p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function m(t,e,s,a){h=s,d=a||{};var o=r(t,e);return g(o),function(e){for(var s=[],a=0;a<o.length;a++){var n=o[a];(l=i[n.id]).refs--,s.push(l)}e?g(o=r(t,e)):o=[];for(a=0;a<s.length;a++){var l;if(0===(l=s[a]).refs){for(var h=0;h<l.parts.length;h++)l.parts[h]();delete i[l.id]}}}}function g(t){for(var e=0;e<t.length;e++){var s=t[e],r=i[s.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](s.parts[a]);for(;a<s.parts.length;a++)r.parts.push(w(s.parts[a]));r.parts.length>s.parts.length&&(r.parts.length=s.parts.length)}else{var o=[];for(a=0;a<s.parts.length;a++)o.push(w(s.parts[a]));i[s.id]={id:s.id,refs:1,parts:o}}}}function f(){var t=document.createElement("style");return t.type="text/css",o.appendChild(t),t}function w(t){var e,s,r=document.querySelector("style["+u+'~="'+t.id+'"]');if(r){if(h)return c;r.parentNode.removeChild(r)}if(p){var a=l++;r=n||(n=f()),e=v.bind(null,r,a,!1),s=v.bind(null,r,a,!0)}else r=f(),e=function(t,e){var s=e.css,r=e.media,a=e.sourceMap;r&&t.setAttribute("media",r);d.ssrId&&t.setAttribute(u,e.id);a&&(s+="\n/*# sourceURL="+a.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");if(t.styleSheet)t.styleSheet.cssText=s;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(s))}}.bind(null,r),s=function(){r.parentNode.removeChild(r)};return e(t),function(r){if(r){if(r.css===t.css&&r.media===t.media&&r.sourceMap===t.sourceMap)return;e(t=r)}else s()}}var y=function(){var t=[];return function(e,s){return t[e]=s,t.filter(Boolean).join("\n")}}();function v(t,e,s,r){var a=s?"":r.css;if(t.styleSheet)t.styleSheet.cssText=y(e,a);else{var i=document.createTextNode(a),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(i,o[e]):t.appendChild(i)}}}]).default;